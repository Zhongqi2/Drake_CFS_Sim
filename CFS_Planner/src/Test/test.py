# %%
import numpy as np

# nominal 
T_c_t1 = np.array([[ 0.9811977,  -0.14149085,  0.13126844, -0.85323225],
 [ 0.04466078 ,-0.4952238 , -0.86761674 , 0.59555108],
 [ 0.18776709,  0.8571661,  -0.47959336 , 1.67565273],
 [ 0.      ,    0.     ,     0.    ,      1.        ]])

T_b_t1 = np.array([[-0.9283033 ,  0.04485005 ,-0.00873942, -0.52412777],
 [-0.00198834 ,-0.16385222 , 0.81783896 , 1.1263479 ],
 [ 0.06024019 ,-0.76189037 , 0.15689465 , 0.33419721],
 [ 0.        ,  0.       , 0.    ,      1.        ]])


T_c_t2 = np.array([[ 0.89819063 ,-0.42379169 , 0.11685119 ,-0.86610232],
 [-0.11318131, -0.47977784 ,-0.87005931,  0.57536994],
 [ 0.42478652 , 0.76825375 ,-0.47889726 , 1.71456292],
 [ 0.       ,   0.       ,   0.        ,  1.        ]])

T_b_t2 = np.array([[-0.84233564 , 0.13903048, -0.00813588, -0.52741508],
 [ 0.00500263, -0.15608673 , 0.82436629 , 1.08796978],
 [ 0.14155704, -0.6798802,   0.15352773 , 0.34072963],
 [ 0.       ,   0.    ,      0.      ,    1.        ]])


T_t1_t2 = np.linalg.inv(T_c_t1)@T_c_t2 
print(T_t1_t2)

from scipy.spatial.transform import Rotation as R
np.rad2deg(R.from_matrix(T_t1_t2[:3, :3]).as_euler('xyz'))


T_t1_t2 = np.linalg.inv(T_b_t1)@T_b_t2 
print(T_t1_t2)

from scipy.spatial.transform import Rotation as R
np.rad2deg(R.from_matrix(T_t1_t2[:3, :3]).as_euler('xyz'))
# %%
